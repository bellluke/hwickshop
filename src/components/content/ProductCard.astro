---
interface Props {
  image?: string;
  imageAlt?: string;
  name: string;
  rating?: number;
  reviewCount?: number;
  price?: string;
  oneLiner?: string;
  link?: string;
}

const {
  image,
  imageAlt = '',
  name,
  rating,
  reviewCount,
  price,
  oneLiner,
  link = '#',
} = Astro.props;
---

<div class="my-6 border border-stone-200/60 bg-[var(--color-surface)] px-5 py-4 shadow-[var(--shadow-xs)]">
  <div class="flex gap-4">
    {image && (
      <div class="flex-shrink-0">
        <img
          src={image}
          alt={imageAlt || name}
          loading="lazy"
          class="h-16 w-16 rounded-lg object-cover"
        />
      </div>
    )}

    <div class="flex-1 min-w-0">
      <h3 class="text-[0.9375rem] font-semibold leading-snug">{name}</h3>

      {oneLiner && (
        <p class="mt-0.5 text-sm text-[var(--color-text-sub)]">{oneLiner}</p>
      )}

      <div class="mt-2 flex items-baseline gap-3">
        {price && (
          <span class="font-price text-[0.9375rem]">{price}</span>
        )}

        {(rating || reviewCount) && (
          <span class="text-xs text-[var(--color-text-muted)]">
            {rating && <>★ {rating}</>}
            {rating && reviewCount && <> · </>}
            {reviewCount && <>리뷰 {reviewCount.toLocaleString()}개</>}
          </span>
        )}
      </div>
    </div>
  </div>

  <a
    href={link}
    target="_blank"
    rel="nofollow sponsored"
    class="mt-3 inline-flex items-center text-sm font-medium text-[var(--color-primary)] no-underline transition-colors duration-150 hover:text-[var(--color-primary-hover)]"
  >
    쿠팡에서 보기
    <svg class="ml-1 h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M5 12h14M12 5l7 7-7 7" />
    </svg>
  </a>
</div>
